<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf8" />
  <title>TourManagerAPI - Documentation</title>
  <!-- needed for adaptive design -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
  <style>
    /* ====== Base styling to match index.html theme ====== */
    body {
      margin: 0;
      font-family: Helvetica, Arial, sans-serif;
      background: #444; /* primary color theme */
      color: #fff;
      text-transform: uppercase;
      position: relative; /* so we can place a noise overlay via ::before */
    }
    /* Subtle repeating radial gradient for noise effect */
    body::before {
      content: "";
      pointer-events: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image: repeating-radial-gradient(
        rgba(255, 255, 255, 0.02) 0,
        rgba(255, 255, 255, 0.02) 1px,
        transparent 1px,
        transparent 100%
      );
      background-size: 3px 3px;
      opacity: 0.02; /* Adjust to taste (0.02â€“0.05) */
      z-index: 0; /* behind all content */
    }

    /* Container for the Redoc portion (docs) */
    .docs-container {
      position: relative;
      z-index: 1; /* content above noise overlay */
      padding: env(safe-area-inset-top) env(safe-area-inset-right)
               env(safe-area-inset-bottom) env(safe-area-inset-left);
      /* The Redoc content has a white background & black text to remain readable */
    }

    /* ====== Hamburger nav styling ====== */
    .hamburger-nav {
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 2; /* above noise overlay and docs content */
    }
    /* The hamburger icon itself */
    .hamburger-btn {
      background: none;
      border: none;
      cursor: pointer;
      width: 2rem;
      height: 2rem;
      position: relative;
    }
    .hamburger-btn span {
      display: block;
      width: 100%;
      height: 3px;
      background: #fff;
      margin: 5px 0;
      transition: 0.4s;
    }

    /* The actual menu that slides in/out */
    .nav-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      overflow: hidden;
      background: rgba(0,0,0,0.7);
      transition: width 0.4s ease;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .nav-menu.open {
      width: 60%; /* or whatever width you like for the slide-out menu */
      max-width: 300px;
    }
    .nav-menu a {
      color: #fff;
      text-decoration: none;
      font-size: 1.2rem;
      margin: 1rem 0;
    }

    /* ====== Redoc Container styling ====== */
    #redoc {
      width: 100%;
      height: 100vh; /* or 100%, etc. */
      background: #fff;  /* White background so text is readable */
      color: #333;       /* Dark text on white */
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    /* MEDIA QUERY for large screens, if you want to limit the docs width */
    @media (min-width: 1600px) {
      #redoc {
        max-width: 1400px;
        margin: 0 auto;
      }
    }
  </style>
  <script src="https://cdn.redocly.com/redoc/v2.4.0/bundles/redoc.standalone.js"></script>
</head>
<body>
  <!-- ====== Hamburger Nav ====== -->
  <div class="hamburger-nav">
    <button class="hamburger-btn" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="nav-menu" id="navMenu">
      <a href="index.html">Home</a>
      <a href="docs.html">API Docs</a>
      <!-- Add more links if desired -->
    </div>
  </div>

  <div class="docs-container">
    <!-- Redoc container for the OpenAPI docs -->
    <div id="redoc"></div>
  </div>

  <!-- The static openapi spec (with external references removed) -->
  <script id="openapi-spec" type="application/json">
  {
    "openapi": "3.1.0",
    "info": {
      "title": "TourManagerAPI",
      "description": "Orchestrating Concert Data Visualization.",
      "version": "1.2.0"
    },
    "paths": {
      "/search/artists/": {
        "get": {
          "tags": ["Artist Search"],
          "summary": "Search for an artist",
          "description": "Searches for an artist by name using the local database and external sources ...",
          "operationId": "search_by_artist_search_artists__get",
          "security": [{"APIKeyHeader": []}],
          "parameters": [{
            "name": "artist_name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100,
              "description": "Artist name",
              "title": "Artist Name"
            },
            "description": "Artist name"
          }],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "title": "Response Search By Artist Search Artists Get"
                  }
                }
              }
            },
            "404": {"description": "Not Found"},
            "422": {"description": "Validation Error"},
            "500": {"description": "Internal Server Error"}
          }
        }
      },
      "/search/locations/": {
        "get": {
          "tags": ["Location Search"],
          "summary": "Search for locations",
          "description": "Search for locations using various criteria. ...",
          "operationId": "search_locations_search_locations__get",
          "security": [{"APIKeyHeader": []}],
          "parameters": [
            { "name": "query", "in": "query", "required": false,
              "schema": { "anyOf": [{"type": "string"},{"type": "null"}], "description": "Place name ...", "title": "Query"},
              "description": "Place name for location search"
            }
            /* ... etc. ... */
          ],
          "responses": {
            "200": {"description": "Successful Response"},
            "404": {"description": "Location not found"},
            "422": {"description": "Validation Error"},
            "500": {"description": "Internal Server Error"}
          }
        }
      }
      /* ... more endpoints ... */
    },
    "components": {
      "securitySchemes": {
        "APIKeyHeader": {
          "type": "apiKey",
          "in": "header",
          "name": "x-api-key"
        }
      }
    },
    "security": [{"APIKeyHeader": []}]
  }
  </script>

  <script>
    // Initialize Redoc using the static spec
    const spec = JSON.parse(document.getElementById('openapi-spec').innerText);
    Redoc.init(spec, {}, document.getElementById('redoc'));

    // Toggle the hamburger nav
    function toggleMenu() {
      const menu = document.getElementById('navMenu');
      menu.classList.toggle('open');
    }
  </script>
</body>
</html>